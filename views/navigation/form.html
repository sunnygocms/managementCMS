<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>Channel</title>
		<link href="{{.viewpath}}/Css/tab.css" rel="stylesheet" type="text/css" />
        <link href="{{.viewpath}}/Css/mln.colselect.css" rel="stylesheet" type="text/css" />
		<script src="{{.viewpath}}/Js/jquery-1.8.0.min.js"></script>
		<script src="{{.viewpath}}/Js/jquery.validate.js"></script>
		<script>
		$(document).ready(function(){
			$("#form").validate({
                ignore:"",
				rules: {
					name: "required"
				}
			});
		});
		</script>
	</head>

	<body>
		<div class="add">
			<form method="post" name="form" id="form" enctype="multipart/form-data">
				<fieldset>
					<legend>
						{{if eq .ACTION_NAME "Add"}}添加	{{else}}修改	{{end}}菜单
					</legend>
					<p>
						<label for="name">菜单名称：</label><input type="hidden" name="id" value="{{.Data.Id}}" />
						<input type="text"size="40" name="name" id="name" value="{{.Data.Name}}"/>
					</p>
                    <p>
                        <label for="parent_id">上级分类：</label>
                        <span id="parent_id" style="display:inline-block"></span>
                        <script src="/navigation/jstree/id/parent_id/justLeaf/false/value/{{.Data.ParentId}}"></script>
                    </p>
                    <p>
                        <label for="module">Controller：</label>
                        <input type="text"size="40" name="controller" id="module" value="{{.Data.Controller}}"/>
                    </p>
                    <p>
                        <label for="action">Action：</label>
                        <input type="text"size="40" name="action" id="action" value="{{.Data.Action}}"/>
                    </p>
					<p>
						<label for="sort">排序：</label>
						<input type="number" size="3" name="sort" id="sort" value="{{.Data.Sort}}"/>
						<span class="field_desc"> 数值越小越靠前</span>
					</p>
					<p>
					    <label>是否可见：</label>
						{{if eq .ACTION_NAME "Add"}}
							<input type="radio" name="display" value="1" id="display_1" checked="checked" /><label for="display_1">可见</label>
								<input type="radio" name="display" value="0" id="display_0"  /><label for="display_0">隐藏</label>
						{{else}}
							{{if eq .Data.Display 1}}
								<input type="radio" name="display" value="1" id="display_1" checked="checked" /><label for="display_1">可见</label>
								<input type="radio" name="display" value="0" id="display_0"  /><label for="display_0">隐藏</label>
							{{else}}
								<input type="radio" name="display" value="1" id="display_1"  /><label for="display_1">可见</label>
								<input type="radio" name="display" value="0" id="display_0" checked="checked" /><label for="display_0">隐藏</label>
							{{end}}
						{{end}}
					</p>
					<button class="button_grey" type="submit" name="submit"><span>保 存</span></button>
					<button class="button_grey" type="button" onclick="history.back()"><span>取消</span></button>
				</fieldset>
			</form>
		</div>
	</body>
</html>